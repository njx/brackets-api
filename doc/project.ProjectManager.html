<!DOCTYPE html>
<html lang="en">
<head>
    <title>project.ProjectManager</title>
    <link rel="stylesheet" href="../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../assets/js/jquery-1.7.js"></script>
    <script type="text/javascript" src="../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../assets/js/main.js"></script>
</head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="brand" href="./index.html">Brackets API</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a href="#dependencies">Dependencies</a></li>
                    <li><a href="#variables">Variables</a></li>
                    <li><a href="#functions">Functions</a></li>
                    <li><a href="#classes">Classes</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span12">
            <div class="page-header">
                <h1>project.ProjectManager</h1>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="span3">
            <div class="left-section">
                <ul class="nav nav-list">
                    <li class="nav-header">
                        <a href="#" id="toggle-other-modules"><i class="icon-folder-close"></i> Modules (93)</a>
                    </li>
                </ul>
                <ul id="other-module" class="nav nav-list">
                    <li><a href="brackets.html">brackets</a></li>
                    <li><a href="command.CommandManager.html">command.CommandManager</a></li>
                    <li><a href="command.Commands.html">command.Commands</a></li>
                    <li><a href="command.KeyBindingManager.html">command.KeyBindingManager</a></li>
                    <li><a href="command.Menus.html">command.Menus</a></li>
                    <li><a href="debug.DebugCommandHandlers.html">debug.DebugCommandHandlers</a></li>
                    <li><a href="document.ChangedDocumentTracker.html">document.ChangedDocumentTracker</a></li>
                    <li><a href="document.DocumentCommandHandlers.html">document.DocumentCommandHandlers</a></li>
                    <li><a href="document.DocumentManager.html">document.DocumentManager</a></li>
                    <li><a href="document.TextRange.html">document.TextRange</a></li>
                    <li><a href="editor.CodeHintList.html">editor.CodeHintList</a></li>
                    <li><a href="editor.CodeHintManager.html">editor.CodeHintManager</a></li>
                    <li><a href="editor.CSSInlineEditor.html">editor.CSSInlineEditor</a></li>
                    <li><a href="editor.Editor.html">editor.Editor</a></li>
                    <li><a href="editor.EditorCommandHandlers.html">editor.EditorCommandHandlers</a></li>
                    <li><a href="editor.EditorManager.html">editor.EditorManager</a></li>
                    <li><a href="editor.EditorUtils.html">editor.EditorUtils</a></li>
                    <li><a href="editor.InlineTextEditor.html">editor.InlineTextEditor</a></li>
                    <li><a href="editor.InlineWidget.html">editor.InlineWidget</a></li>
                    <li><a href="editor.MultiRangeInlineEditor.html">editor.MultiRangeInlineEditor</a></li>
                    <li><a href="file.FileUtils.html">file.FileUtils</a></li>
                    <li><a href="file.NativeFileError.html">file.NativeFileError</a></li>
                    <li><a href="file.NativeFileSystem.html">file.NativeFileSystem</a></li>
                    <li><a href="help.HelpCommandHandlers.html">help.HelpCommandHandlers</a></li>
                    <li><a href="language.CSSUtils.html">language.CSSUtils</a></li>
                    <li><a href="language.HTMLUtils.html">language.HTMLUtils</a></li>
                    <li><a href="language.JSLintUtils.html">language.JSLintUtils</a></li>
                    <li><a href="language.JSUtils.html">language.JSUtils</a></li>
                    <li><a href="LiveDevelopment.Agents.ConsoleAgent.html">LiveDevelopment.Agents.ConsoleAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.CSSAgent.html">LiveDevelopment.Agents.CSSAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMAgent.html">LiveDevelopment.Agents.DOMAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMHelpers.html">LiveDevelopment.Agents.DOMHelpers</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMNode.html">LiveDevelopment.Agents.DOMNode</a></li>
                    <li><a href="LiveDevelopment.Agents.EditAgent.html">LiveDevelopment.Agents.EditAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.GotoAgent.html">LiveDevelopment.Agents.GotoAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.HighlightAgent.html">LiveDevelopment.Agents.HighlightAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.NetworkAgent.html">LiveDevelopment.Agents.NetworkAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.RemoteAgent.html">LiveDevelopment.Agents.RemoteAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.RemoteFunctions.html">LiveDevelopment.Agents.RemoteFunctions</a></li>
                    <li><a href="LiveDevelopment.Agents.ScriptAgent.html">LiveDevelopment.Agents.ScriptAgent</a></li>
                    <li><a href="LiveDevelopment.Documents.CSSDocument.html">LiveDevelopment.Documents.CSSDocument</a></li>
                    <li><a href="LiveDevelopment.Documents.HTMLDocument.html">LiveDevelopment.Documents.HTMLDocument</a></li>
                    <li><a href="LiveDevelopment.Documents.JSDocument.html">LiveDevelopment.Documents.JSDocument</a></li>
                    <li><a href="LiveDevelopment.Inspector.Inspector.html">LiveDevelopment.Inspector.Inspector</a></li>
                    <li><a href="LiveDevelopment.LiveDevelopment.html">LiveDevelopment.LiveDevelopment</a></li>
                    <li><a href="LiveDevelopment.main.html">LiveDevelopment.main</a></li>
                    <li><a href="preferences.PreferencesDialogs.html">preferences.PreferencesDialogs</a></li>
                    <li><a href="preferences.PreferencesManager.html">preferences.PreferencesManager</a></li>
                    <li><a href="preferences.PreferenceStorage.html">preferences.PreferenceStorage</a></li>
                    <li><a href="project.FileIndexManager.html">project.FileIndexManager</a></li>
                    <li><a href="project.FileSyncManager.html">project.FileSyncManager</a></li>
                    <li><a href="project.FileViewController.html">project.FileViewController</a></li>
                    <li><a href="project.ProjectManager.html">project.ProjectManager</a></li>
                    <li><a href="project.SidebarView.html">project.SidebarView</a></li>
                    <li><a href="project.WorkingSetSort.html">project.WorkingSetSort</a></li>
                    <li><a href="project.WorkingSetView.html">project.WorkingSetView</a></li>
                    <li><a href="search.FindInFiles.html">search.FindInFiles</a></li>
                    <li><a href="search.FindReplace.html">search.FindReplace</a></li>
                    <li><a href="search.QuickOpen.html">search.QuickOpen</a></li>
                    <li><a href="strings.html">strings</a></li>
                    <li><a href="test.html">test</a></li>
                    <li><a href="test2.html">test2</a></li>
                    <li><a href="test3.html">test3</a></li>
                    <li><a href="utils.AppInit.html">utils.AppInit</a></li>
                    <li><a href="utils.Async.html">utils.Async</a></li>
                    <li><a href="utils.BuildInfoUtils.html">utils.BuildInfoUtils</a></li>
                    <li><a href="utils.CollectionUtils.html">utils.CollectionUtils</a></li>
                    <li><a href="utils.ExtensionLoader.html">utils.ExtensionLoader</a></li>
                    <li><a href="utils.ExtensionUtils.html">utils.ExtensionUtils</a></li>
                    <li><a href="utils.Global.html">utils.Global</a></li>
                    <li><a href="utils.KeyEvent.html">utils.KeyEvent</a></li>
                    <li><a href="utils.NativeApp.html">utils.NativeApp</a></li>
                    <li><a href="utils.PerfUtils.html">utils.PerfUtils</a></li>
                    <li><a href="utils.Resizer.html">utils.Resizer</a></li>
                    <li><a href="utils.ShellAPI.html">utils.ShellAPI</a></li>
                    <li><a href="utils.StringUtils.html">utils.StringUtils</a></li>
                    <li><a href="utils.TokenUtils.html">utils.TokenUtils</a></li>
                    <li><a href="utils.UpdateNotification.html">utils.UpdateNotification</a></li>
                    <li><a href="utils.UrlParams.html">utils.UrlParams</a></li>
                    <li><a href="utils.ViewUtils.html">utils.ViewUtils</a></li>
                    <li><a href="view.ViewCommandHandlers.html">view.ViewCommandHandlers</a></li>
                    <li><a href="widgets.bootstrap-alerts.html">widgets.bootstrap-alerts</a></li>
                    <li><a href="widgets.bootstrap-buttons.html">widgets.bootstrap-buttons</a></li>
                    <li><a href="widgets.bootstrap-dropdown.html">widgets.bootstrap-dropdown</a></li>
                    <li><a href="widgets.bootstrap-modal.html">widgets.bootstrap-modal</a></li>
                    <li><a href="widgets.bootstrap-popover.html">widgets.bootstrap-popover</a></li>
                    <li><a href="widgets.bootstrap-scrollspy.html">widgets.bootstrap-scrollspy</a></li>
                    <li><a href="widgets.bootstrap-tabs.html">widgets.bootstrap-tabs</a></li>
                    <li><a href="widgets.bootstrap-twipsy.html">widgets.bootstrap-twipsy</a></li>
                    <li><a href="widgets.Dialogs.html">widgets.Dialogs</a></li>
                    <li><a href="widgets.ModalBar.html">widgets.ModalBar</a></li>
                    <li><a href="widgets.PopUpManager.html">widgets.PopUpManager</a></li>
                    <li><a href="widgets.StatusBar.html">widgets.StatusBar</a></li>
                </ul>
            </div>
        </div>
        <div class="span9">
            <section>
                <div id="description">
                    <p>ProjectManager is the model for the set of currently open project. It is responsible for<br />creating and updating the project tree when projects are opened and when changes occur to<br />the file tree.</p>

<p>This module dispatches these events:<br />   - beforeProjectClose -- before _projectRoot changes<br />   - projectOpen        -- after  _projectRoot changes<br />   - projectFilesChange -- sent if one of the project files has changed--<br />                           added, removed, renamed, etc.</p>

<p>These are jQuery events, so to listen for them you do something like this:<br />   $(ProjectManager).on("eventname", handler);</p>
                </div>
            </section>

            <section id="dependencies">
                <h3>Dependencies</h3>
                <ul class="nav nav-list">
                    <li><a href="command.CommandManager.html">command.CommandManager</a></li>
                    <li><a href="command.Commands.html">command.Commands</a></li>
                    <li><a href="command.Menus.html">command.Menus</a></li>
                    <li><a href="document.DocumentManager.html">document.DocumentManager</a></li>
                    <li><a href="file.FileUtils.html">file.FileUtils</a></li>
                    <li><a href="file.NativeFileError.html">file.NativeFileError</a></li>
                    <li><a href="file.NativeFileSystem.html">file.NativeFileSystem</a></li>
                    <li><a href="i18n!nls.urls.html">i18n!nls.urls</a></li>
                    <li><a href="preferences.PreferencesDialogs.html">preferences.PreferencesDialogs</a></li>
                    <li><a href="preferences.PreferencesManager.html">preferences.PreferencesManager</a></li>
                    <li><a href="project.FileViewController.html">project.FileViewController</a></li>
                    <li><a href="strings.html">strings</a></li>
                    <li><a href="thirdparty.jstree_pre1.0_fix_1&#x2F;jquery.jstree.html">thirdparty.jstree_pre1.0_fix_1&#x2F;jquery.jstree</a></li>
                    <li><a href="utils.AppInit.html">utils.AppInit</a></li>
                    <li><a href="utils.CollectionUtils.html">utils.CollectionUtils</a></li>
                    <li><a href="utils.Global.html">utils.Global</a></li>
                    <li><a href="utils.KeyEvent.html">utils.KeyEvent</a></li>
                    <li><a href="utils.PerfUtils.html">utils.PerfUtils</a></li>
                    <li><a href="utils.StringUtils.html">utils.StringUtils</a></li>
                    <li><a href="utils.ViewUtils.html">utils.ViewUtils</a></li>
                    <li><a href="widgets.Dialogs.html">widgets.Dialogs</a></li>
                </ul>
            </section>

            <section id="variables">
                <h3>Variables <label class="checkbox">
                    <input class="toggle-public" type="checkbox"> Show Private Members
                </label></h3>
                <div class="member">

                    <span class="pull-right scope">
                        
                        
                    </span>
                    <h4>PREFERENCES_CLIENT_ID</h4>
                    <dl>
                    </dl>
                    <p>Unique PreferencesManager clientID</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var PREFERENCES_CLIENT_ID = &quot;com.adobe.brackets.ProjectManager&quot;;</code></pre>
                </div>
                <div class="member private">

                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_lastSelected</h4>
                    <dl>
                            <dt>Type</dt>
                                <dd>DOMElement</dd>
                            <dt>Private</dt>
                    </dl>
                    <p>Reference to previous selected jstree leaf node when ProjectManager had<br />selection focus from FileViewController.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var _lastSelected = null;</code></pre>
                </div>
                <div class="member private">

                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_prefs</h4>
                    <dl>
                            <dt>Type</dt>
                                <dd>PreferenceStorage</dd>
                            <dt>Private</dt>
                    </dl>
                    <p></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var _prefs = null;</code></pre>
                </div>
                <div class="member private">

                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_projectBaseUrl</h4>
                    <dl>
                            <dt>Private</dt>
                    </dl>
                    <p>Encoded URL</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var _projectBaseUrl = &quot;&quot;;</code></pre>
                </div>
                <div class="member private">

                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_projectInitialLoad</h4>
                    <dl>
                            <dt>Private</dt>
                    </dl>
                    <p>Used to initialize jstree state</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var _projectInitialLoad = {
        previous        : [],</code></pre>
                </div>
                <div class="member private">

                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_projectRoot</h4>
                    <dl>
                            <dt>See</dt>
                                <dd><a href='#'>getProjectRoot()</a></dd>
                            <dt>Private</dt>
                    </dl>
                    <p></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var _projectRoot = null;</code></pre>
                </div>
                <div class="member private">

                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_projectTree</h4>
                    <dl>
                            <dt>Type</dt>
                                <dd>jQueryObject</dd>
                            <dt>Private</dt>
                    </dl>
                    <p>Reference to the tree control</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var _projectTree = null;
    
    function canonicalize(path) {
        if (path.length &gt; 0 &amp;&amp; path[path.length - 1] === &quot;&#x2F;&quot;) {
            return path.slice(0, -1);
        } else {
            return path;
        }
    }</code></pre>
                </div>
                <div class="member private">

                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_suppressSelectionChange</h4>
                    <dl>
                            <dt>Type</dt>
                                <dd>boolean</dd>
                            <dt>Private</dt>
                    </dl>
                    <p>Internal flag to suppress firing of selectionChanged event.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>var _suppressSelectionChange = false;</code></pre>
                </div>
                <!--</ul>-->
            </section>

            <section id="functions">
                <h3>Functions <label class="checkbox">
                    <input class="toggle-public" type="checkbox"> Show Private Members
                </label></h3>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_checkForValidFilename</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p></p>

<p>Check a filename for illegal characters. If any are found, show an error<br />dialog and return false. If no illegal characters are found, return true.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _checkForValidFilename(filename) {
        &#x2F;&#x2F; Validate file name
        &#x2F;&#x2F; TODO (issue #270): There are some filenames like COM1, LPT3, etc. that are not valid on Windows.
        &#x2F;&#x2F; We may want to add checks for those here.
        &#x2F;&#x2F; See http:&#x2F;&#x2F;msdn.microsoft.com&#x2F;en-us&#x2F;library&#x2F;windows&#x2F;desktop&#x2F;aa365247(v=vs.85).aspx
        if (filename.search(&#x2F;[\&#x2F;?*:;\{\}&lt;&gt;\\|]+&#x2F;) !== -1) {
            Dialogs.showModalDialog(
                Dialogs.DIALOG_ID_ERROR,
                Strings.INVALID_FILENAME_TITLE,
                Strings.INVALID_FILENAME_MESSAGE
            );
            return false;
        }
        return true;
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_convertEntriesToJSON</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>entries</dt>
                            <dd>(<em>Array.&lt;Entry&gt;</em>) - Array of NativeFileSystem entry objects.</dd>
                            <dt>Returns</dt>
                            <dd>(<em>Array</em>) - jsTree node data: array of JSON objects</dd>
                    </dl>
                    <p>Given an array of NativeFileSystem entries, returns a JSON array representing them in the format<br />required by jsTree. Saves the corresponding Entry object as metadata (which jsTree will store in<br />the DOM via $.data()).</p>

<p>Does NOT recursively traverse the file system: folders are marked as expandable but are given no<br />children initially.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _convertEntriesToJSON(entries) {
        var jsonEntryList = [],
            entry,
            entryI;

        for (entryI = 0; entryI &lt; entries.length; entryI++) {
            entry = entries[entryI];
            
            if (shouldShow(entry)) {
                var jsonEntry = {
                    data: entry.name,
                    attr: { id: &quot;node&quot; + _projectInitialLoad.id++ },
                    metadata: { entry: entry }
                };
                if (entry.isDirectory) {
                    jsonEntry.children = [];
                    jsonEntry.state = &quot;closed&quot;;
                }
    
                &#x2F;&#x2F; For more info on jsTree&#39;s JSON format see: http:&#x2F;&#x2F;www.jstree.com&#x2F;documentation&#x2F;json_data
                jsonEntryList.push(jsonEntry);
    
                &#x2F;&#x2F; Map path to ID to initialize loaded and opened states
                _projectInitialLoad.fullPathToIdMap[entry.fullPath] = jsonEntry.attr.id;
            }
        }
        return jsonEntryList;
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_findTreeNode</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>entry</dt>
                            <dd>(<em>!Entry</em>) - FileEntry or DirectoryEntry to find</dd>
                            <dt>Returns</dt>
                            <dd>(<em>$.Promise</em>) - Resolved with jQ obj for the jsTree tree node; or rejected if not found</dd>
                    </dl>
                    <p>Finds the tree node corresponding to the given file/folder (rejected if the path lies<br />outside the project, or if it doesn't exist).</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _findTreeNode(entry) {
        var result = new $.Deferred();
        
        &#x2F;&#x2F; If path not within project, ignore
        var projRelativePath = makeProjectRelativeIfPossible(entry.fullPath);
        if (projRelativePath === entry.fullPath) {
            return result.reject().promise();
        }
        
        var treeAPI = $.jstree._reference(_projectTree);
        
        &#x2F;&#x2F; We&#39;re going to traverse from root of tree, one segment at a time
        var pathSegments = projRelativePath.split(&quot;&#x2F;&quot;);
        if (entry.isDirectory) {
            pathSegments.pop();  &#x2F;&#x2F; DirectoryEntry always has a trailing &quot;&#x2F;&quot;
        }
        
        function findInSubtree($nodes, segmentI) {
            var seg = pathSegments[segmentI];
            var match = CollectionUtils.indexOf($nodes, function (node, i) {
                var nodeName = $(node).data(&quot;entry&quot;).name;
                return nodeName === seg;
            });
            
            if (match === -1) {
                result.reject();    &#x2F;&#x2F; path doesn&#39;t exist
            } else {
                var $node = $nodes.eq(match);
                if (segmentI === pathSegments.length - 1) {
                    result.resolve($node);  &#x2F;&#x2F; done searching!
                } else {
                    &#x2F;&#x2F; Search next level down
                    var subChildren = treeAPI._get_children($node);
                    if (subChildren.length &gt; 0) {
                        findInSubtree(subChildren, segmentI + 1);
                    } else {
                        &#x2F;&#x2F; Subtree not loaded yet: force async load &amp; try again
                        treeAPI.load_node($node, function (data) {
                            subChildren = treeAPI._get_children($node);
                            findInSubtree(subChildren, segmentI + 1);
                        }, function (err) {
                            result.reject();  &#x2F;&#x2F; includes case where folder is empty
                        });
                    }
                }
            }
        }
        
        &#x2F;&#x2F; Begin searching from root
        var topLevelNodes = treeAPI._get_children(-1);  &#x2F;&#x2F; -1 means top level in jsTree-ese
        findInSubtree(topLevelNodes, 0);
        
        return result.promise();
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_forceSelection</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _forceSelection(current, target) {
        &#x2F;&#x2F; select_node will force the target to be revealed. Instead,
        &#x2F;&#x2F; keep the scroller position stable.
        var savedScrollTop = $projectTreeContainer.get(0).scrollTop;
        
        &#x2F;&#x2F; suppress selectionChanged event from firing by jstree select_node
        _suppressSelectionChange = true;
        _projectTree.jstree(&quot;deselect_node&quot;, current);
        _projectTree.jstree(&quot;select_node&quot;, target, false);
        _suppressSelectionChange = false;
        
        $projectTreeContainer.get(0).scrollTop = savedScrollTop;
        
        _redraw(true, false);
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_getBaseUrlKey</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _getBaseUrlKey() {
        return &quot;projectBaseUrl_&quot; + _projectRoot;
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_getTreeStateKey</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Get prefs tree state lookup key for given project path.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _getTreeStateKey(path) {
        &#x2F;&#x2F; generate unique tree state key for this project path
        var key = &quot;projectTreeState_&quot; + path;

        &#x2F;&#x2F; normalize to always have slash at end
        if (key[key.length - 1] !== &quot;&#x2F;&quot;) {
            key += &quot;&#x2F;&quot;;
        }
        return key;
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_getWelcomeProjectPath</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>Returns</dt>
                            <dd>(<em>!string</em>) - fullPath reference</dd>
                    </dl>
                    <p>Returns the full path to the welcome project, which we open on first launch.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _getWelcomeProjectPath() {
        var initialPath = FileUtils.getNativeBracketsDirectoryPath(),
            sampleUrl = Urls.GETTING_STARTED;
        if (sampleUrl) {
            &#x2F;&#x2F; Back up one more folder. The samples folder is assumed to be at the same level as
            &#x2F;&#x2F; the src folder, and the sampleUrl is relative to the samples folder.
            initialPath = initialPath.substr(0, initialPath.lastIndexOf(&quot;&#x2F;&quot;)) + &quot;&#x2F;samples&#x2F;&quot; + sampleUrl;
        }

        return initialPath;
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_hasFileSelectionFocus</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _hasFileSelectionFocus() {
        return FileViewController.getFileSelectionFocus() === FileViewController.PROJECT_MANAGER;
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_loadProject</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>rootPath</dt>
                            <dd>(<em>string</em>) - Absolute path to the root folder of the project. If rootPath is undefined or null, the last open project will be restored.</dd>
                            <dt>Returns</dt>
                            <dd>(<em>$.Promise</em>) - A promise object that will be resolved when the project is loaded and tree is rendered, or rejected if the project path fails to load.</dd>
                    </dl>
                    <p>Loads the given folder as a project. Normally, you would call openProject() instead to let the<br />user choose a folder.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _loadProject(rootPath) {
        if (_projectRoot) {
            &#x2F;&#x2F; close current project
            $(exports).triggerHandler(&quot;beforeProjectClose&quot;, _projectRoot);
        }

        &#x2F;&#x2F; close all the old files
        DocumentManager.closeAll();

        &#x2F;&#x2F; reset tree node id&#39;s
        _projectInitialLoad.id = 0;

        var result = new $.Deferred(),
            resultRenderTree;

        &#x2F;&#x2F; restore project tree state from last time this project was open
        _projectInitialLoad.previous = _prefs.getValue(_getTreeStateKey(rootPath)) || [];

        &#x2F;&#x2F; Populate file tree as long as we aren&#39;t running in the browser
        if (!brackets.inBrowser) {
            &#x2F;&#x2F; Point at a real folder structure on local disk
            NativeFileSystem.requestNativeFileSystem(rootPath,
                function (fs) {
                    var rootEntry = fs.root;
                    var projectRootChanged = (!_projectRoot || !rootEntry)
                        || _projectRoot.fullPath !== rootEntry.fullPath;

                    &#x2F;&#x2F; Success!
                    var perfTimerName = PerfUtils.markStart(&quot;Load Project: &quot; + rootPath),
                        canonPath = FileUtils.canonicalizeFolderPath(rootPath);

                    _projectRoot = rootEntry;
                    _projectBaseUrl = _prefs.getValue(_getBaseUrlKey()) || &quot;&quot;;

                    &#x2F;&#x2F; If this is the current welcome project, record it. In future launches, we always 
                    &#x2F;&#x2F; want to substitute the welcome project for the current build instead of using an
                    &#x2F;&#x2F; outdated one (when loading recent projects or the last opened project).
                    if (canonPath === _getWelcomeProjectPath()) {
                        var welcomeProjects = _prefs.getValue(&quot;welcomeProjects&quot;) || [];
                        if (welcomeProjects.indexOf(canonPath) === -1) {
                            welcomeProjects.push(canonPath);
                            _prefs.setValue(&quot;welcomeProjects&quot;, welcomeProjects);
                        }
                    }

                    &#x2F;&#x2F; The tree will invoke our &quot;data provider&quot; function to populate the top-level items, then
                    &#x2F;&#x2F; go idle until a node is expanded - at which time it&#39;ll call us again to fetch the node&#39;s
                    &#x2F;&#x2F; immediate children, and so on.
                    resultRenderTree = _renderTree(_treeDataProvider);

                    resultRenderTree.done(function () {
                        if (projectRootChanged) {
                            &#x2F;&#x2F; Allow asynchronous event handlers to finish before resolving result by collecting promises from them
                            var promises = [];
                            $(exports).triggerHandler({ type: &quot;projectOpen&quot;, promises: promises }, [_projectRoot, promises]);
                            $.when.apply($, promises).pipe(result.resolve, result.reject);
                        } else {
                            result.resolve();
                        }
                    });
                    resultRenderTree.fail(function () {
                        PerfUtils.terminateMeasurement(perfTimerName);
                        result.reject();
                    });
                    resultRenderTree.always(function () {
                        PerfUtils.addMeasurement(perfTimerName);
                    });
                },
                function (error) {
                    Dialogs.showModalDialog(
                        Dialogs.DIALOG_ID_ERROR,
                        Strings.ERROR_LOADING_PROJECT,
                        StringUtils.format(
                            Strings.REQUEST_NATIVE_FILE_SYSTEM_ERROR,
                            StringUtils.htmlEscape(rootPath),
                            error.name
                        )
                    ).done(function () {
                        &#x2F;&#x2F; The project folder stored in preference doesn&#39;t exist, so load the default 
                        &#x2F;&#x2F; project directory.
                        &#x2F;&#x2F; TODO (issue #267): When Brackets supports having no project directory
                        &#x2F;&#x2F; defined this code will need to change
                        _loadProject(_getWelcomeProjectPath()).always(function () {
                            &#x2F;&#x2F; Make sure not to reject the original deferred until the fallback
                            &#x2F;&#x2F; project is loaded, so we don&#39;t violate expectations that there is always
                            &#x2F;&#x2F; a current project before continuing after _loadProject().
                            result.reject();
                        });
                    });
                }
                );
        }

        return result.promise();
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_projectSettings</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Invoke project settings dialog.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _projectSettings() {
        return PreferencesDialogs.showProjectPreferencesDialog(getBaseUrl());
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_redraw</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _redraw(selectionChanged, reveal) {
        reveal = (reveal === undefined) ? true : reveal;
        
        &#x2F;&#x2F; redraw selection
        if ($projectTreeList) {
            if (selectionChanged &amp;&amp; !_suppressSelectionChange) {
                $projectTreeList.triggerHandler(&quot;selectionChanged&quot;, reveal);
            }

            &#x2F;&#x2F; reposition the selection triangle
            $projectTreeContainer.triggerHandler(&quot;scroll&quot;);
            
            &#x2F;&#x2F; in-lieu of resize events, manually trigger contentChanged for every
            &#x2F;&#x2F; FileViewController focus change. This event triggers scroll shadows
            &#x2F;&#x2F; on the jstree to update. documentSelectionFocusChange fires when
            &#x2F;&#x2F; a new file is added and removed (causing a new selection) from the working set
            _projectTree.triggerHandler(&quot;contentChanged&quot;);
        }
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_renderTree</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Given an input to jsTree's json_data.data setting, display the data in the file tree UI<br />(replacing any existing file tree that was previously displayed). This input could be<br />raw JSON data, or it could be a dataprovider function. See jsTree docs for details:<br /><a href='http://www.jstree.com/documentation/json_data'>http://www.jstree.com/documentation/json_data</a></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _renderTree(treeDataProvider) {
        var result = new $.Deferred();

        &#x2F;&#x2F; For #1542, make sure the tree is scrolled to the top before refreshing.
        &#x2F;&#x2F; If we try to do this later (e.g. after the tree has been refreshed), it 
        &#x2F;&#x2F; doesn&#39;t seem to work properly. 
        $projectTreeContainer.scrollTop(0);
        
        &#x2F;&#x2F; Instantiate tree widget
        &#x2F;&#x2F; (jsTree is smart enough to replace the old tree if there&#39;s already one there)
        $projectTreeContainer.hide();
        _projectTree = $projectTreeContainer
            .jstree(
                {
                    plugins : [&quot;ui&quot;, &quot;themes&quot;, &quot;json_data&quot;, &quot;crrm&quot;, &quot;sort&quot;],
                    ui : { select_limit: 1, select_multiple_modifier: &quot;&quot;, select_range_modifier: &quot;&quot; },
                    json_data : { data: treeDataProvider, correct_state: false },
                    core : { animation: 0 },
                    themes : { theme: &quot;brackets&quot;, url: &quot;styles&#x2F;jsTreeTheme.css&quot;, dots: false, icons: false },
                        &#x2F;&#x2F;(note: our actual jsTree theme CSS lives in brackets.less; we specify an empty .css
                        &#x2F;&#x2F; file because jsTree insists on loading one itself)
                    strings : { loading : &quot;Loading ...&quot;, new_node : &quot;New node&quot; },
                    sort :  function (a, b) {
                        if (brackets.platform === &quot;win&quot;) {
                            &#x2F;&#x2F; Windows: prepend folder names with a &#39;0&#39; and file names with a &#39;1&#39; so folders are listed first
                            var a1 = ($(a).hasClass(&quot;jstree-leaf&quot;) ? &quot;1&quot; : &quot;0&quot;) + this.get_text(a).toLowerCase(),
                                b1 = ($(b).hasClass(&quot;jstree-leaf&quot;) ? &quot;1&quot; : &quot;0&quot;) + this.get_text(b).toLowerCase();
                            return (a1 &gt; b1) ? 1 : -1;
                        } else {
                            return this.get_text(a).toLowerCase() &gt; this.get_text(b).toLowerCase() ? 1 : -1;
                        }
                    }
                }
            )
            .bind(
                &quot;before.jstree&quot;,
                function (event, data) {
                    if (data.func === &quot;toggle_node&quot;) {
                        &#x2F;&#x2F; jstree will automaticaly select parent node when the parent is closed
                        &#x2F;&#x2F; and any descendant is selected. Prevent the select_node handler from
                        &#x2F;&#x2F; immediately toggling open again in this case.
                        suppressToggleOpen = _projectTree.jstree(&quot;is_open&quot;, data.args[0]);
                    }
                }
            )
            .bind(
                &quot;select_node.jstree&quot;,
                function (event, data) {
                    var entry = data.rslt.obj.data(&quot;entry&quot;);
                    if (entry.isFile) {
                        var openResult = FileViewController.openAndSelectDocument(entry.fullPath, FileViewController.PROJECT_MANAGER);
                    
                        openResult.done(function () {
                            &#x2F;&#x2F; update when tree display state changes
                            _redraw(true);
                            _lastSelected = data.rslt.obj;
                        }).fail(function () {
                            if (_lastSelected) {
                                &#x2F;&#x2F; revert this new selection and restore previous selection
                                _forceSelection(data.rslt.obj, _lastSelected);
                            } else {
                                _projectTree.jstree(&quot;deselect_all&quot;);
                                _lastSelected = null;
                            }
                        });
                    } else {
                        FileViewController.setFileViewFocus(FileViewController.PROJECT_MANAGER);
                        &#x2F;&#x2F; show selection marker on folders
                        _redraw(true);
                        
                        &#x2F;&#x2F; toggle folder open&#x2F;closed
                        &#x2F;&#x2F; suppress if this selection was triggered by clicking the disclousre triangle
                        if (!suppressToggleOpen) {
                            _projectTree.jstree(&quot;toggle_node&quot;, data.rslt.obj);
                        }
                    }
                    
                    suppressToggleOpen = false;
                }
            )
            .bind(
                &quot;reopen.jstree&quot;,
                function (event, data) {
                    &#x2F;&#x2F; This handler fires for the initial load and subsequent
                    &#x2F;&#x2F; reload_nodes events. For each depth level of the tree, we open
                    &#x2F;&#x2F; the saved nodes by a fullPath lookup.
                    if (_projectInitialLoad.previous.length &gt; 0) {
                        &#x2F;&#x2F; load previously open nodes by increasing depth
                        var toOpenPaths = _projectInitialLoad.previous.shift(),
                            toOpenIds   = [],
                            node        = null;
        
                        &#x2F;&#x2F; use path to lookup ID
                        $.each(toOpenPaths, function (index, value) {
                            node = _projectInitialLoad.fullPathToIdMap[value];
                            
                            if (node) {
                                toOpenIds.push(node);
                            }
                        });
        
                        &#x2F;&#x2F; specify nodes to open and load
                        data.inst.data.core.to_open = toOpenIds;
                        _projectTree.jstree(&quot;reload_nodes&quot;, false);
                    }
                    if (_projectInitialLoad.previous.length === 0) {
                        &#x2F;&#x2F; resolve after all paths are opened
                        result.resolve();
                    }
                }
            )
            .bind(
                &quot;scroll.jstree&quot;,
                function (e) {
                    &#x2F;&#x2F; close all dropdowns on scroll
                    Menus.closeAll();
                }
            )
            .bind(
                &quot;loaded.jstree open_node.jstree close_node.jstree&quot;,
                function (event, data) {
                    if (event.type === &quot;open_node&quot;) {
                        &#x2F;&#x2F; select the current document if it becomes visible when this folder is opened
                        var curDoc = DocumentManager.getCurrentDocument();
                        
                        if (_hasFileSelectionFocus() &amp;&amp; curDoc) {
                            var entry = data.rslt.obj.data(&quot;entry&quot;);
                            
                            if (curDoc.file.fullPath.indexOf(entry.fullPath) === 0) {
                                _forceSelection(data.rslt.obj, _lastSelected);
                            } else {
                                _redraw(true, false);
                            }
                        }
                    } else if (event.type === &quot;close_node&quot;) {
                        &#x2F;&#x2F; always update selection marker position when collapsing a node
                        _redraw(true, false);
                    } else {
                        _redraw(false);
                    }
                    
                    _savePreferences();
                }
            )
            .bind(
                &quot;mousedown.jstree&quot;,
                function (event) {
                    &#x2F;&#x2F; select tree node on right-click
                    if (event.which === 3) {
                        var treenode = $(event.target).closest(&quot;li&quot;);
                        if (treenode) {
                            var saveSuppressToggleOpen = suppressToggleOpen;
                            
                            &#x2F;&#x2F; don&#39;t toggle open folders (just select)
                            suppressToggleOpen = true;
                            _projectTree.jstree(&quot;deselect_all&quot;);
                            _projectTree.jstree(&quot;select_node&quot;, treenode, false);
                            suppressToggleOpen = saveSuppressToggleOpen;
                        }
                    }
                }
            );

        &#x2F;&#x2F; jstree has a default event handler for dblclick that attempts to clear the
        &#x2F;&#x2F; global window selection (presumably because it doesn&#39;t want text within the tree
        &#x2F;&#x2F; to be selected). This ends up messing up CodeMirror, and we don&#39;t need this anyway
        &#x2F;&#x2F; since we&#39;ve turned off user selection of UI text globally. So we just unbind it,
        &#x2F;&#x2F; and add our own double-click handler here.
        &#x2F;&#x2F; Filed this bug against jstree at https:&#x2F;&#x2F;github.com&#x2F;vakata&#x2F;jstree&#x2F;issues&#x2F;163
        _projectTree.bind(&quot;init.jstree&quot;, function () {
            &#x2F;&#x2F; install scroller shadows
            ViewUtils.addScrollerShadow(_projectTree.get(0));
            
            _projectTree
                .unbind(&quot;dblclick.jstree&quot;)
                .bind(&quot;dblclick.jstree&quot;, function (event) {
                    var entry = $(event.target).closest(&quot;li&quot;).data(&quot;entry&quot;);
                    if (entry &amp;&amp; entry.isFile) {
                        FileViewController.addToWorkingSetAndSelect(entry.fullPath);
                    }
                });

            &#x2F;&#x2F; fire selection changed events for sidebar-selection
            $projectTreeList = $projectTreeContainer.find(&quot;ul&quot;);
            ViewUtils.sidebarList($projectTreeContainer, &quot;jstree-clicked&quot;, &quot;jstree-leaf&quot;);
            $projectTreeContainer.show();
        });

        return result.promise();
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_savePreferences</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Save ProjectManager project path and tree state.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _savePreferences() {
        
        &#x2F;&#x2F; save the current project
        _prefs.setValue(&quot;projectPath&quot;, _projectRoot.fullPath);

        &#x2F;&#x2F; save jstree state
        var openNodes = [],
            projectPathLength = _projectRoot.fullPath.length,
            entry,
            fullPath,
            shortPath,
            depth;

        &#x2F;&#x2F; Query open nodes by class selector
        $(&quot;.jstree-open:visible&quot;).each(function (index) {
            entry = $(this).data(&quot;entry&quot;);

            if (entry.fullPath) {
                fullPath = entry.fullPath;

                &#x2F;&#x2F; Truncate project path prefix, remove the trailing slash
                shortPath = fullPath.slice(projectPathLength, -1);

                &#x2F;&#x2F; Determine depth of the node by counting path separators.
                &#x2F;&#x2F; Children at the root have depth of zero
                depth = shortPath.split(&quot;&#x2F;&quot;).length - 1;

                &#x2F;&#x2F; Map tree depth to list of open nodes
                if (openNodes[depth] === undefined) {
                    openNodes[depth] = [];
                }

                openNodes[depth].push(fullPath);
            }
        });

        &#x2F;&#x2F; Store the open nodes by their full path and persist to storage
        _prefs.setValue(_getTreeStateKey(_projectRoot.fullPath), openNodes);
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_treeDataProvider</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>treeNode</dt>
                            <dd>(<em>jQueryObject</em>) - jQ object for the DOM node being expanded</dd>
                            <dt>jsTreeCallback</dt>
                            <dd>(<em>function(Array)</em>) - jsTree callback to provide children to</dd>
                    </dl>
                    <p>Called by jsTree when the user has expanded a node that has never been expanded before. We call<br />jsTree back asynchronously with the node's immediate children data once the subfolder is done<br />being fetched.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _treeDataProvider(treeNode, jsTreeCallback) {
        var dirEntry, isProjectRoot = false;

        if (treeNode === -1) {
            &#x2F;&#x2F; Special case: root of tree
            dirEntry = _projectRoot;
            isProjectRoot = true;
        } else {
            &#x2F;&#x2F; All other nodes: the DirectoryEntry is saved as jQ data in the tree (by _convertEntriesToJSON())
            dirEntry = treeNode.data(&quot;entry&quot;);
        }

        &#x2F;&#x2F; Fetch dirEntry&#39;s contents
        dirEntry.createReader().readEntries(
            function (entries) {
                var subtreeJSON = _convertEntriesToJSON(entries),
                    wasNodeOpen = false,
                    emptyDirectory = (subtreeJSON.length === 0);
                
                if (emptyDirectory) {
                    if (!isProjectRoot) {
                        wasNodeOpen = treeNode.hasClass(&quot;jstree-open&quot;);
                    } else {
                        &#x2F;&#x2F; project root is a special case, add a placeholder
                        subtreeJSON.push({});
                    }
                }
                
                jsTreeCallback(subtreeJSON);
                
                if (!isProjectRoot &amp;&amp; emptyDirectory) {
                    &#x2F;&#x2F; If the directory is empty, force it to appear as an open or closed node.
                    &#x2F;&#x2F; This is a workaround for issue #149 where jstree would show this node as a leaf.
                    var classToAdd = (wasNodeOpen) ? &quot;jstree-closed&quot; : &quot;jstree-open&quot;;
                    
                    treeNode.removeClass(&quot;jstree-leaf jstree-closed jstree-open&quot;)
                            .addClass(classToAdd);
                }
            },
            function (error) {
                Dialogs.showModalDialog(
                    Dialogs.DIALOG_ID_ERROR,
                    Strings.ERROR_LOADING_PROJECT,
                    StringUtils.format(Strings.READ_DIRECTORY_ENTRIES_ERROR,
                        StringUtils.htmlEscape(dirEntry.fullPath),
                        error.name)
                );
            }
        );

    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>createNewItem</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>{string}</dt>
                            <dd>(<em>baseDir</em>) - Full path of the directory where the item should go</dd>
                            <dt>{string}</dt>
                            <dd>(<em>initialName</em>) - Initial name for the item</dd>
                            <dt>{boolean}</dt>
                            <dd>(<em>skipRename</em>) - If true, don't allow the user to rename the item</dd>
                            <dt>{boolean}</dt>
                            <dd>(<em>isFolder</em>) - If true, create a folder instead of a file</dd>
                            <dt>Returns</dt>
                            <dd>(<em>$.Promise</em>) - A promise object that will be resolved with the FileEntry of the created object, or rejected if the user cancelled or entered an illegal filename.</dd>
                    </dl>
                    <p>Create a new item in the project tree.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function createNewItem(baseDir, initialName, skipRename, isFolder) {
        var node                = null,
            selection           = _projectTree.jstree(&quot;get_selected&quot;),
            selectionEntry      = null,
            position            = &quot;inside&quot;,
            escapeKeyPressed    = false,
            result              = new $.Deferred(),
            wasNodeOpen         = true;

        &#x2F;&#x2F; get the FileEntry or DirectoryEntry
        if (selection) {
            selectionEntry = selection.data(&quot;entry&quot;);
        }

        &#x2F;&#x2F; move selection to parent DirectoryEntry
        if (selectionEntry) {
            if (selectionEntry.isFile) {
                position = &quot;after&quot;;
                
                var parent = $.jstree._reference(_projectTree)._get_parent(selection);
                
                if (typeof (parent.data) === &quot;function&quot;) {
                    &#x2F;&#x2F; get Entry from tree node
                    &#x2F;&#x2F; note that the jstree root will return undefined
                    selectionEntry = parent.data(&quot;entry&quot;);
                } else {
                    &#x2F;&#x2F; reset here. will be replaced with project root.
                    selectionEntry = null;
                }
            } else if (selectionEntry.isDirectory) {
                wasNodeOpen = selection.hasClass(&quot;jstree-open&quot;);
            }
        }

        &#x2F;&#x2F; use the project root DirectoryEntry
        if (!selectionEntry) {
            selectionEntry = getProjectRoot();
        }

        _projectTree.on(&quot;create.jstree&quot;, function (event, data) {
            $(event.target).off(&quot;create.jstree&quot;);

            function errorCleanup() {
                &#x2F;&#x2F; TODO (issue #115): If an error occurred, we should allow the user to fix the filename.
                &#x2F;&#x2F; For now we just remove the node so you have to start again.
                var parent = data.inst._get_parent(data.rslt.obj);
                
                _projectTree.jstree(&quot;remove&quot;, data.rslt.obj);
                
                &#x2F;&#x2F; Restore tree node state and styling when errors occur.
                &#x2F;&#x2F; parent returns -1 when at the root
                if (parent &amp;&amp; (parent !== -1)) {
                    var methodName = (wasNodeOpen) ? &quot;open_node&quot; : &quot;close_node&quot;;
                    var classToAdd = (wasNodeOpen) ? &quot;jstree-open&quot; : &quot;jstree-closed&quot;;
                    
                    &#x2F;&#x2F; This is a workaround for issue #149 where jstree would show this node as a leaf.
                    _projectTree.jstree(methodName, parent);
                    parent.removeClass(&quot;jstree-leaf jstree-closed jstree-open&quot;)
                          .addClass(classToAdd);
                }
                
                result.reject();
            }

            if (!escapeKeyPressed) {
                &#x2F;&#x2F; Validate file name
                if (!_checkForValidFilename(data.rslt.name)) {
                    errorCleanup();
                    return;
                }

                var successCallback = function (entry) {
                    data.rslt.obj.data(&quot;entry&quot;, entry);
                    if (isFolder) {
                        &#x2F;&#x2F; If the new item is a folder, remove the leaf and folder related
                        &#x2F;&#x2F; classes and add &quot;jstree-closed&quot;. Selecting the item will open
                        &#x2F;&#x2F; the folder.
                        data.rslt.obj.removeClass(&quot;jstree-leaf jstree-closed jstree-open&quot;)
                            .addClass(&quot;jstree-closed&quot;);
                    }
                    
                    &#x2F;&#x2F; If the new item is a folder, force a re-sort here. Windows sorts folders
                    &#x2F;&#x2F; and files separately.
                    if (isFolder) {
                        _projectTree.jstree(&quot;sort&quot;, data.rslt.obj.parent());
                    }

                    _projectTree.jstree(&quot;select_node&quot;, data.rslt.obj, true);

                    &#x2F;&#x2F; Notify listeners that the project model has changed
                    $(exports).triggerHandler(&quot;projectFilesChange&quot;);
                    
                    result.resolve(entry);
                };
                
                var errorCallback = function (error) {
                    if ((error.name === NativeFileError.PATH_EXISTS_ERR)
                            || (error.name === NativeFileError.TYPE_MISMATCH_ERR)) {
                        Dialogs.showModalDialog(
                            Dialogs.DIALOG_ID_ERROR,
                            Strings.INVALID_FILENAME_TITLE,
                            StringUtils.format(Strings.FILE_ALREADY_EXISTS,
                                StringUtils.htmlEscape(data.rslt.name))
                        );
                    } else {
                        var errString = error.name === NativeFileError.NO_MODIFICATION_ALLOWED_ERR ?
                                         Strings.NO_MODIFICATION_ALLOWED_ERR :
                                         StringUtils.format(Strings.GENERIC_ERROR, error.name);

                        var errMsg = StringUtils.format(Strings.ERROR_CREATING_FILE,
                                        StringUtils.htmlEscape(data.rslt.name),
                                        errString);
                      
                        Dialogs.showModalDialog(
                            Dialogs.DIALOG_ID_ERROR,
                            Strings.ERROR_CREATING_FILE_TITLE,
                            errMsg
                        );
                    }

                    errorCleanup();
                };
                
                if (isFolder) {
                    &#x2F;&#x2F; Use getDirectory() to create the new folder
                    selectionEntry.getDirectory(
                        data.rslt.name,
                        {create: true, exclusive: true},
                        successCallback,
                        errorCallback
                    );
                } else {
                    &#x2F;&#x2F; Use getFile() to create the new file
                    selectionEntry.getFile(
                        data.rslt.name,
                        {create: true, exclusive: true},
                        successCallback,
                        errorCallback
                    );
                }
            } else { &#x2F;&#x2F;escapeKeyPressed
                errorCleanup();
            }
        });
        
        &#x2F;&#x2F; TODO (issue #115): Need API to get tree node for baseDir.
        &#x2F;&#x2F; In the meantime, pass null for node so new item is placed
        &#x2F;&#x2F; relative to the selection
        node = selection;
 
        function createNode() {
           &#x2F;&#x2F; Create the node and open the editor
            _projectTree.jstree(&quot;create&quot;, node, position, {data: initialName}, null, skipRename);
    
            if (!skipRename) {
                var $renameInput = _projectTree.find(&quot;.jstree-rename-input&quot;);
    
                $renameInput.on(&quot;keydown&quot;, function (event) {
                    &#x2F;&#x2F; Listen for escape key on keydown, so we can remove the node in the create.jstree handler above
                    if (event.keyCode === KeyEvent.DOM_VK_ESCAPE) {
    
                        escapeKeyPressed = true;
                    }
                });
    
                ViewUtils.scrollElementIntoView(_projectTree, $renameInput, true);
            }
        }

        &#x2F;&#x2F; There is a race condition in jstree if &quot;open_node&quot; and &quot;create&quot; are called in rapid
        &#x2F;&#x2F; succession and the node was not yet loaded. To avoid it, first open the node and wait
        &#x2F;&#x2F; for the open_node event before trying to create the new one. See #2085 for more details.
        if (wasNodeOpen) {
            createNode();
        } else {
            _projectTree.one(&quot;open_node.jstree&quot;, createNode);
    
            &#x2F;&#x2F; Open the node before creating the new child
            _projectTree.jstree(&quot;open_node&quot;, node);
        }
        
        return result.promise();
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>forceFinishRename</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Forces createNewItem() to complete by removing focus from the rename field which causes<br />the new file to be written to disk</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function forceFinishRename() {
        $(&quot;.jstree-rename-input&quot;).blur();
    }

    &#x2F;&#x2F; Initialize variables and listeners that depend on the HTML DOM
    AppInit.htmlReady(function () {
        $projectTreeContainer = $(&quot;#project-files-container&quot;);

        $(&quot;#open-files-container&quot;).on(&quot;contentChanged&quot;, function () {
            _redraw(false); &#x2F;&#x2F; redraw jstree when working set size changes
        });
    });

    &#x2F;&#x2F; Init PreferenceStorage
    var defaults = {
        projectPath:      _getWelcomeProjectPath()</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>getBaseUrl</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>Returns</dt>
                            <dd>(<em>String</em>) - </dd>
                    </dl>
                    <p>Returns the encoded Base URL of the currently loaded project, or empty string if no project<br />is open (during startup, or running outside of app shell).</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function getBaseUrl() {
        return _projectBaseUrl;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>getInitialProjectPath</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Initial project path is stored in prefs, which defaults to the welcome project on<br />first launch.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function getInitialProjectPath() {
        return updateWelcomeProjectPath(_prefs.getValue(&quot;projectPath&quot;));
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>getProjectRoot</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>Returns</dt>
                            <dd>(<em>DirectoryEntry</em>) - </dd>
                    </dl>
                    <p>Returns the root folder of the currently loaded project, or null if no project is open (during<br />startup, or running outside of app shell).</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function getProjectRoot() {
        return _projectRoot;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>getSelectedItem</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>Returns</dt>
                            <dd>(<em>?Entry</em>) - </dd>
                    </dl>
                    <p>Returns the FileEntry or DirectoryEntry corresponding to the selected item, or null<br />if no item is selected.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function getSelectedItem() {
        var selected = _projectTree.jstree(&quot;get_selected&quot;);
        if (selected) {
            return selected.data(&quot;entry&quot;);
        }
        return null;
    }

    function _fileViewFocusChange() {
        _redraw(true);
    }
    
    function _documentSelectionFocusChange() {
        var curDoc = DocumentManager.getCurrentDocument();
        if (curDoc &amp;&amp; _hasFileSelectionFocus()) {
            $(&quot;#project-files-container li&quot;).is(function (index) {
                var entry = $(this).data(&quot;entry&quot;);
                if (entry &amp;&amp; entry.fullPath === curDoc.file.fullPath &amp;&amp; !_projectTree.jstree(&quot;is_selected&quot;, $(this))) {
                    &#x2F;&#x2F;we don&#39;t want to trigger another selection change event, so manually deselect
                    &#x2F;&#x2F;and select without sending out notifications
                    _projectTree.jstree(&quot;deselect_all&quot;);
                    _projectTree.jstree(&quot;select_node&quot;, $(this), false);
                    return true;
                }
                return false;
            });
        } else if (_projectTree !== null) {
            _projectTree.jstree(&quot;deselect_all&quot;);
            _lastSelected = null;
        }
        
        _redraw(true);
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>isWelcomeProjectPath</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Returns true if the given path is the same as one of the welcome projects we've previously opened,<br />or the one for the current build.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function isWelcomeProjectPath(path) {
        var welcomeProjects = _prefs.getValue(&quot;welcomeProjects&quot;) || [];
        welcomeProjects.push(_getWelcomeProjectPath());
        return welcomeProjects.indexOf(FileUtils.canonicalizeFolderPath(path)) !== -1;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>isWithinProject</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Returns true if absPath lies within the project, false otherwise.<br />Does not support paths containing ".."</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function isWithinProject(absPath) {
        return (_projectRoot &amp;&amp; absPath.indexOf(_projectRoot.fullPath) === 0);
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>makeProjectRelativeIfPossible</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>absPath</dt>
                            <dd>(<em>!string</em>) - </dd>
                            <dt>Returns</dt>
                            <dd>(<em>!string</em>) - </dd>
                    </dl>
                    <p>If absPath lies within the project, returns a project-relative path. Else returns absPath<br />unmodified.<br />Does not support paths containing ".."</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function makeProjectRelativeIfPossible(absPath) {
        if (isWithinProject(absPath)) {
            return absPath.slice(_projectRoot.fullPath.length);
        }
        return absPath;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>openProject</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>path</dt>
                            <dd>(<em>string=</em>) - Optional absolute path to the root folder of the project. If path is undefined or null, displays a dialog where the user can choose a folder to load. If the user cancels the dialog, nothing more happens.</dd>
                            <dt>Returns</dt>
                            <dd>(<em>$.Promise</em>) - A promise object that will be resolved when the project is loaded and tree is rendered, or rejected if the project path fails to load.</dd>
                    </dl>
                    <p>Open a new project. Currently, Brackets must always have a project open, so<br />this method handles both closing the current project and opening a new project.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function openProject(path) {

        var result = new $.Deferred();

        &#x2F;&#x2F; Confirm any unsaved changes first. We run the command in &quot;prompt-only&quot; mode, meaning it won&#39;t
        &#x2F;&#x2F; actually close any documents even on success; we&#39;ll do that manually after the user also oks
        &#x2F;&#x2F;the folder-browse dialog.
        CommandManager.execute(Commands.FILE_CLOSE_ALL, { promptOnly: true })
            .done(function () {
                if (path) {
                    &#x2F;&#x2F; use specified path
                    _loadProject(path).pipe(result.resolve, result.reject);
                } else {
                    &#x2F;&#x2F; Pop up a folder browse dialog
                    NativeFileSystem.showOpenDialog(false, true, Strings.CHOOSE_FOLDER, _projectRoot.fullPath, null,
                        function (files) {
                            &#x2F;&#x2F; If length == 0, user canceled the dialog; length should never be &gt; 1
                            if (files.length &gt; 0) {
                                &#x2F;&#x2F; Load the new project into the folder tree
                                _loadProject(files[0]).pipe(result.resolve, result.reject);
                            } else {
                                result.reject();
                            }
                        },
                        function (error) {
                            Dialogs.showModalDialog(
                                Dialogs.DIALOG_ID_ERROR,
                                Strings.ERROR_LOADING_PROJECT,
                                StringUtils.format(Strings.OPEN_DIALOG_ERROR, error.name)
                            );
                            result.reject();
                        }
                        );
                }
            })
            .fail(function () {
                result.reject();
            });

        &#x2F;&#x2F; if fail, don&#39;t open new project: user canceled (or we failed to save its unsaved changes)
        return result.promise();
    }</code></pre>
                </div>
                <div class="member">
                    <span class="pull-right scope">
                        
                        
                    </span>
                    <h4>renameItem</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>newName</dt>
                            <dd>(<em>string</em>) - New item name</dd>
                            <dt>isFolder</dt>
                            <dd>(<em>boolean</em>) - True if item is a folder; False if it is a file.</dd>
                            <dt>Returns</dt>
                            <dd>(<em>$.Promise</em>) - A promise object that will be resolved or rejected when the rename is finished.</dd>
                    </dl>
                    <p>Rename a file/folder. This will update the project tree data structures<br />and send notifications about the rename.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function renameItem(oldName, newName, isFolder) {
        var result = new $.Deferred();
        
        if (oldName === newName) {
            result.resolve();
            return result;
        }
        
        &#x2F;&#x2F; TODO: This should call FileEntry.moveTo(), but that isn&#39;t implemented
        &#x2F;&#x2F; yet. For now, call directly to the low-level fs.rename()
        brackets.fs.rename(oldName, newName, function (err) {
            if (!err) {
                &#x2F;&#x2F; Update all nodes in the project tree.
                &#x2F;&#x2F; All other updating is done by DocumentManager.notifyPathNameChanged() below
                var nodes = _projectTree.find(&quot;.jstree-leaf, .jstree-open, .jstree-closed&quot;),
                    i;
                
                for (i = 0; i &lt; nodes.length; i++) {
                    var node = $(nodes[i]);
                    FileUtils.updateFileEntryPath(node.data(&quot;entry&quot;), oldName, newName);
                }
                
                &#x2F;&#x2F; Notify that one of the project files has changed
                $(exports).triggerHandler(&quot;projectFilesChange&quot;);
                
                &#x2F;&#x2F; Tell the document manager about the name change. This will update
                &#x2F;&#x2F; all of the model information and send notification to all views
                DocumentManager.notifyPathNameChanged(oldName, newName, isFolder);
                
                &#x2F;&#x2F; Finally, re-open the selected document
                if (DocumentManager.getCurrentDocument()) {
                    FileViewController.openAndSelectDocument(
                        DocumentManager.getCurrentDocument().file.fullPath,
                        FileViewController.getFileSelectionFocus()
                    );
                }
                
                _redraw(true);

                result.resolve();
            } else {
                &#x2F;&#x2F; Show and error alert
                Dialogs.showModalDialog(
                    Dialogs.DIALOG_ID_ERROR,
                    Strings.ERROR_RENAMING_FILE_TITLE,
                    StringUtils.format(
                        Strings.ERROR_RENAMING_FILE,
                        StringUtils.htmlEscape(newName),
                        err === brackets.fs.ERR_FILE_EXISTS ?
                                Strings.FILE_EXISTS_ERR :
                                FileUtils.getFileErrorString(err)
                    )
                );
                
                result.reject(err);
            }
        });
        
        return result;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>renameItemInline</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>entry</dt>
                            <dd>(<em>!Entry</em>) - FileEntry or DirectoryEntry to rename</dd>
                    </dl>
                    <p>Initiates a rename of the selected item in the project tree, showing an inline editor<br />for input. Silently no-ops if the entry lies outside the tree or doesn't exist.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function renameItemInline(entry) {
        &#x2F;&#x2F; First make sure the item in the tree is visible - jsTree&#39;s rename API doesn&#39;t do anything to ensure inline input is visible
        showInTree(entry)
            .done(function (selected) {
                var isFolder = selected.hasClass(&quot;jstree-open&quot;) || selected.hasClass(&quot;jstree-closed&quot;);
        
                _projectTree.one(&quot;rename.jstree&quot;, function (event, data) {
                    &#x2F;&#x2F; Make sure the file was actually renamed
                    if (data.rslt.old_name === data.rslt.new_name) {
                        return;
                    }
                    
                    var _resetOldFilename = function () {
                        _projectTree.jstree(&quot;set_text&quot;, selected, data.rslt.old_name);
                        _projectTree.jstree(&quot;sort&quot;, selected.parent());
                    };
                    
                    if (!_checkForValidFilename(data.rslt.new_name)) {
                        &#x2F;&#x2F; Invalid filename. Reset the old name and bail.
                        _resetOldFilename();
                        return;
                    }
                    
                    var oldName = selected.data(&quot;entry&quot;).fullPath;
                    var oldNameRegex = new RegExp(StringUtils.regexEscape(data.rslt.old_name) + &quot;$&quot;);
                    var newName = oldName.replace(oldNameRegex, data.rslt.new_name);
                    
                    renameItem(oldName, newName, isFolder)
                        .done(function () {
                            
                            &#x2F;&#x2F; If a folder was renamed, re-select it here, since openAndSelectDocument()
                            &#x2F;&#x2F; changed the selection.
                            if (isFolder) {
                                var oldSuppressToggleOpen = suppressToggleOpen;
                                
                                &#x2F;&#x2F; Supress the open&#x2F;close toggle
                                suppressToggleOpen = true;
                                _projectTree.jstree(&quot;select_node&quot;, selected, true);
                                suppressToggleOpen = oldSuppressToggleOpen;
                            }
                        })
                        .fail(function (err) {
                            &#x2F;&#x2F; Error during rename. Reset to the old name and alert the user.
                            _resetOldFilename();
                        });
                });
                _projectTree.jstree(&quot;rename&quot;);
            });
        &#x2F;&#x2F; No fail handler: silently no-op if file doesn&#39;t exist in tree
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>setBaseUrl</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt></dt>
                            <dd>(<em>String</em>) - </dd>
                    </dl>
                    <p>Sets the encoded Base URL of the currently loaded project.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function setBaseUrl(projectBaseUrl) {
        _projectBaseUrl = projectBaseUrl;

        &#x2F;&#x2F; Ensure trailing slash to be consistent with _projectRoot.fullPath
        &#x2F;&#x2F; so they&#39;re interchangable (i.e. easy to convert back and forth)
        if (_projectBaseUrl.length &gt; 0 &amp;&amp; _projectBaseUrl[_projectBaseUrl.length - 1] !== &quot;&#x2F;&quot;) {
            _projectBaseUrl += &quot;&#x2F;&quot;;
        }

        _prefs.setValue(_getBaseUrlKey(), _projectBaseUrl);
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>shouldShow</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>entry</dt>
                            <dd>(<em>Entry</em>) - File or directory to filter</dd>
                            <dt>Returns</dt>
                            <dd>(<em>boolean</em>) - true if the file should be displayed</dd>
                    </dl>
                    <p>Returns false for files and directories that are not commonly useful to display.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function shouldShow(entry) {
        if ([&quot;.git&quot;, &quot;.gitignore&quot;, &quot;.gitmodules&quot;, &quot;.svn&quot;, &quot;.DS_Store&quot;, &quot;Thumbs.db&quot;].indexOf(entry.name) &gt; -1) {
            return false;
        }
        var extension = entry.name.split(&#39;.&#39;).pop();
        if ([&quot;pyc&quot;].indexOf(extension) &gt; -1) {
            return false;
        }
        return true;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>showInTree</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>entry</dt>
                            <dd>(<em>!Entry</em>) - FileEntry or DirectoryEntry to show</dd>
                            <dt>Returns</dt>
                            <dd>(<em>$.Promise</em>) - Resolved when done; or rejected if not found</dd>
                    </dl>
                    <p>Expands tree nodes to show the given file or folder and selects it. Silently no-ops if the<br />path lies outside the project, or if it doesn't exist.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function showInTree(entry) {
        return _findTreeNode(entry)
            .done(function ($node) {
                &#x2F;&#x2F; jsTree will automatically expand parent nodes to ensure visible
                _projectTree.jstree(&quot;select_node&quot;, $node, false);
            });
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>updateWelcomeProjectPath</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>If the provided path is to an old welcome project, updates to the current one.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function updateWelcomeProjectPath(path) {
        if (isWelcomeProjectPath(path)) {
            return _getWelcomeProjectPath();
        } else {
            return path;
        }
    }</code></pre>
                </div>
            </section>


            <section id="classes">
                <h2>Classes</h2>
            </section>
        </div>
    </div>
</div>
</body>
</html>